# –ö–∏–Ω–æ–ü–æ–∏—Å–∫üçø ‚Äî Telegram-–±–æ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ñ–∏–ª—å–º–æ–≤

**–ö–∏–Ω–æ–ü–æ–∏—Å–∫üçø** ‚Äî Telegram-–±–æ—Ç –Ω–∞ Python, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å —Ñ–∏–ª—å–º—ã –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º.  
–ë–æ—Ç —É–º–µ–µ—Ç –∏—Å–∫–∞—Ç—å —Ñ–∏–ª—å–º—ã –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, —Ä–µ–π—Ç–∏–Ω–≥—É –∏ –∂–∞–Ω—Ä—É, —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –∏ –≤–µ—Å—Ç–∏ –∏—Å—Ç–æ—Ä–∏—é –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## üîß –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤:
  - –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
  - –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É
  - –ø–æ –∂–∞–Ω—Ä—É
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏—Ö—Å—è —Ñ–∏–ª—å–º–æ–≤
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- –†–∞–±–æ—Ç–∞ —Å inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞–º–∏

## üì¶ –ö–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞         | –û–ø–∏—Å–∞–Ω–∏–µ                        |
|----------------|----------------------------------|
| `/start`        | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ                     |
| `/help`         | –ü–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é      |
| `/history`      | –ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è   |
| `/saved_movies` | –°–ø–∏—Å–æ–∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤      |

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Python 3.x
- [requests](https://pypi.org/project/requests/)
- [python-dotenv](https://pypi.org/project/python-dotenv/)
- [peewee](http://docs.peewee-orm.com/)
- [PyMySQL](https://pypi.org/project/PyMySQL/)
- [python-telegram-bot](https://pypi.org/project/python-telegram-bot/)

## üåê –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ API

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π API –æ—Ç Kinopoisk.dev –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∏–ª—å–º–∞—Ö.

üìå –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
    üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é: 
    GET https://api.kinopoisk.dev/v1.4/movie/search?page={page}&limit=1&query={name}
    ‚≠ê –ü–æ–∏—Å–∫ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É: 
    GET https://api.kinopoisk.dev/v1.4/movie?page={page}&limit=5&selectFields=&rating.kp={rating}
    üé¨ –ü–æ–∏—Å–∫ –ø–æ –∂–∞–Ω—Ä—É: 
    GET https://api.kinopoisk.dev/v1.4/movie?page={page}&limit=5&selectFields=&genres.name={genre}

‚ö†Ô∏è –î–ª—è —Ä–∞–±–æ—Ç—ã —Ç—Ä–µ–±—É–µ—Ç—Å—è API-–∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ kinopoisk.dev.

üßæ –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–∞ (JSON) –ø–æ –∑–∞–ø—Ä–æ—Å—É "–ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä":
{
  "docs": [
    {
      "id": 258687,
      "name": "–ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä",
      "alternativeName": "Interstellar",
      "year": 2014,
      "description": "–ö–æ–≥–¥–∞ –∑–∞—Å—É—Ö–∞, –ø—ã–ª—å–Ω—ã–µ –±—É—Ä–∏ –∏ –≤—ã–º–∏—Ä–∞–Ω–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏–π –ø—Ä–∏–≤–æ–¥—è—Ç —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–æ –∫ –ø—Ä–æ–¥–æ–≤–æ–ª—å—Å—Ç–≤–µ–Ω–Ω–æ–º—É...",
      "movieLength": 169,
      "rating": {
        "kp": 8.655,
        "imdb": 8.7
      },
      "votes": {
        "kp": 1052499,
        "imdb": 2323393
      },
      "genres": [
        { "name": "—Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞" },
        { "name": "–¥—Ä–∞–º–∞" },
        { "name": "–ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è" }
      ],
      "countries": [
        { "name": "–°–®–ê" },
        { "name": "–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è" },
        { "name": "–ö–∞–Ω–∞–¥–∞" }
      ],
      "poster": {
        "url": "https://image.openmoviedb.com/kinopoisk-images/.../orig"
      }
    }
  ]
}

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
    
    ```bash
    git clone https://github.com/EndiLobizon/kinopoisk-bot.git
    cd kinopoisk-bot

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

    pip install -r requirements.txt

3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º –∏–∑ —Ñ–∞–π–ª–∞ .env.template:
    
    BOT_TOKEN="your_telegram_bot_token"
    RAPID_API_KEY="your_rapidapi_key"

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

    python main.py

## üí¨ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
–ë–æ—Ç —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –ü–ö.

## üë§ –ê–≤—Ç–æ—Ä
–ï–≤–≥–µ–Ω–∏–π ‚Ä¢ @EndiLobizon


